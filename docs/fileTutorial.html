<!DOCTYPE html>
<html>
	<head>
		<title>File Practice</title>
		<script src="https://unpkg.com/vue@2.5.16/dist/vue.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/lodash@4.17.10/lodash.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.4/fetch.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/es6-promise/4.1.1/es6-promise.auto.min.js"></script>
	</head>

	<body>
		<h1>File Up/Download Example</h1>
		<p>Type file path to add file on list.</p>
		<div id = "img">
			<input type="text" size="80" placeholder="input file path" v-model = "pathInput" />
			<input type="submit" value="submit" v-on:click="addPath(pathInput); pathInput=''" />
			<input type="submit" value="init" v-on:click="pathList=['helloworld.jpg']" />
			<br/><br/>
			<div v-for="p in pathList">
				<a :href="p" :download="path2name(p)" size="50"> {{path2name(p)}} </a>
				<input type="submit" value="delete" v-on:click="deletePath(p)" />
			</div>
			<br/><br/>
			<a href="https://j2kim99.github.io/WebFileShare/index.html"> home </a>
		</div>

		<script type="text/javascript">
  var vm = new Vue({
    el: '#img',
    data: {
      pathInput: "",
	  pathList: ["helloworld.jpg"]
      },
    methods: {
      path2name: fullpath => fullpath.replace(/^.*[\\\/]/, ''),
	  addPath: function(p){
	  	  var i = this.pathList.indexOf(p);
	  	  if (i == -1) this.pathList.push(p);
	  	  else window.alert("Already Exist!");
	  	},
	  deletePath: function(p){
	  	  var i = this.pathList.indexOf(p);
	  	  if (i != -1) this.pathList.splice(i, 1);
	  	}
	  }
  });
</script>
	</body>
</html>
